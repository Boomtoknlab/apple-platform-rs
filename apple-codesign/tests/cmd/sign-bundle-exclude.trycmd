--exclude skips signing a nested bundle

```
$ rcodesign debug-create-macho MyApp.app/Contents/MacOS/MyApp
assuming default minimum version 11.0.0
writing Mach-O to MyApp.app/Contents/MacOS/MyApp

$ rcodesign debug-create-info-plist --bundle-name MyApp MyApp.app/Contents/Info.plist
writing MyApp.app/Contents/Info.plist

$ rcodesign debug-create-macho --file-type dylib MyApp.app/Contents/Frameworks/MyFramework.framework/Versions/A/MyFramework
assuming default minimum version 11.0.0
writing Mach-O to MyApp.app/Contents/Frameworks/MyFramework.framework/Versions/A/MyFramework

$ rcodesign debug-create-info-plist --bundle-name MyFramework MyApp.app/Contents/Frameworks/MyFramework.framework/Versions/A/Resources/Info.plist
writing MyApp.app/Contents/Frameworks/MyFramework.framework/Versions/A/Resources/Info.plist

$ ln -s A MyApp.app/Contents/Frameworks/MyFramework.framework/Versions/Current
$ ln -s Versions/Current/Resources MyApp.app/Contents/Frameworks/MyFramework.framework/Resources

$ rcodesign sign --exclude 'Contents/Frameworks/MyFramework.framework' MyApp.app MyApp.app.NoMyFramework
signing MyApp.app to MyApp.app.NoMyFramework
signing bundle at MyApp.app
signing 2 nested bundles in the following order:
Contents/Frameworks/MyFramework.framework/Versions/A
Contents/Frameworks/MyFramework.framework
entering nested bundle Contents/Frameworks/MyFramework.framework/Versions/A
signing bundle at MyApp.app/Contents/Frameworks/MyFramework.framework/Versions/A into MyApp.app.NoMyFramework/Contents/Frameworks/MyFramework.framework/Versions/A
found an unversioned framework; signing like normal
collecting code resources files
sealing regular file Resources/Info.plist
copying file MyApp.app/Contents/Frameworks/MyFramework.framework/Versions/A/Resources/Info.plist -> MyApp.app.NoMyFramework/Contents/Frameworks/MyFramework.framework/Versions/A/Resources/Info.plist
writing sealed resources to MyApp.app.NoMyFramework/Contents/Frameworks/MyFramework.framework/Versions/A/_CodeSignature/CodeResources
signing main executable MyFramework
setting main executable binary identifier to com.example.mybundle (derived from CFBundleIdentifier in Info.plist)
inferring default signing settings from Mach-O binary
signing Mach-O binary at index 0
binary targets macOS >= 11.0.0 with SDK 11.0.0
creating ad-hoc signature
code directory version: 132096
total signature size: 421 bytes
writing signed main executable to MyApp.app.NoMyFramework/Contents/Frameworks/MyFramework.framework/Versions/A/MyFramework
leaving nested bundle Contents/Frameworks/MyFramework.framework/Versions/A
entering nested bundle Contents/Frameworks/MyFramework.framework
bundle is in exclusion list; it will be copied instead of signed
replicating symlink MyApp.app.NoMyFramework/Contents/Frameworks/MyFramework.framework/Resources -> Versions/Current/Resources
replicating symlink MyApp.app.NoMyFramework/Contents/Frameworks/MyFramework.framework/Versions/Current -> A
leaving nested bundle Contents/Frameworks/MyFramework.framework
signing bundle at MyApp.app into MyApp.app.NoMyFramework
collecting code resources files
sealing nested directory as a bundle: Contents/Frameworks/MyFramework.framework
could not find main executable of presumed nested bundle: Contents/Frameworks/MyFramework.framework
copying file MyApp.app/Contents/Info.plist -> MyApp.app.NoMyFramework/Contents/Info.plist
writing sealed resources to MyApp.app.NoMyFramework/Contents/_CodeSignature/CodeResources
signing main executable Contents/MacOS/MyApp
setting main executable binary identifier to com.example.mybundle (derived from CFBundleIdentifier in Info.plist)
inferring default signing settings from Mach-O binary
signing Mach-O binary at index 0
binary targets macOS >= 11.0.0 with SDK 11.0.0
creating ad-hoc signature
code directory version: 132096
total signature size: 421 bytes
writing signed main executable to MyApp.app.NoMyFramework/Contents/MacOS/MyApp

$ rcodesign debug-file-tree MyApp.app.NoMyFramework
d                      MyApp.app.NoMyFramework/
d                      MyApp.app.NoMyFramework/Contents
d                      MyApp.app.NoMyFramework/Contents/Frameworks
d                      MyApp.app.NoMyFramework/Contents/Frameworks/MyFramework.framework
l                      MyApp.app.NoMyFramework/Contents/Frameworks/MyFramework.framework/Resources -> Versions/Current/Resources
d                      MyApp.app.NoMyFramework/Contents/Frameworks/MyFramework.framework/Versions
d                      MyApp.app.NoMyFramework/Contents/Frameworks/MyFramework.framework/Versions/A
f 6249a5455b5d60d322dc MyApp.app.NoMyFramework/Contents/Frameworks/MyFramework.framework/Versions/A/MyFramework
d                      MyApp.app.NoMyFramework/Contents/Frameworks/MyFramework.framework/Versions/A/Resources
f 53c337af0bf7c0762126 MyApp.app.NoMyFramework/Contents/Frameworks/MyFramework.framework/Versions/A/Resources/Info.plist
d                      MyApp.app.NoMyFramework/Contents/Frameworks/MyFramework.framework/Versions/A/_CodeSignature
f 6d524dfa68ea926bcc0e MyApp.app.NoMyFramework/Contents/Frameworks/MyFramework.framework/Versions/A/_CodeSignature/CodeResources
l                      MyApp.app.NoMyFramework/Contents/Frameworks/MyFramework.framework/Versions/Current -> A
f 0a5902dc8e47f490d038 MyApp.app.NoMyFramework/Contents/Info.plist
d                      MyApp.app.NoMyFramework/Contents/MacOS
f 5320635ab22c67638660 MyApp.app.NoMyFramework/Contents/MacOS/MyApp
d                      MyApp.app.NoMyFramework/Contents/_CodeSignature
f 6686de10a28a2fe11b36 MyApp.app.NoMyFramework/Contents/_CodeSignature/CodeResources

$ rcodesign sign --exclude 'Contents/Frameworks/MyFramework.framework/**' MyApp.app MyApp.app.NoMyFrameworkDoubleWild
signing MyApp.app to MyApp.app.NoMyFrameworkDoubleWild
signing bundle at MyApp.app
signing 2 nested bundles in the following order:
Contents/Frameworks/MyFramework.framework/Versions/A
Contents/Frameworks/MyFramework.framework
entering nested bundle Contents/Frameworks/MyFramework.framework/Versions/A
bundle is in exclusion list; it will be copied instead of signed
copying file MyApp.app/Contents/Frameworks/MyFramework.framework/Versions/A/MyFramework -> MyApp.app.NoMyFrameworkDoubleWild/Contents/Frameworks/MyFramework.framework/Versions/A/MyFramework
copying file MyApp.app/Contents/Frameworks/MyFramework.framework/Versions/A/Resources/Info.plist -> MyApp.app.NoMyFrameworkDoubleWild/Contents/Frameworks/MyFramework.framework/Versions/A/Resources/Info.plist
leaving nested bundle Contents/Frameworks/MyFramework.framework/Versions/A
entering nested bundle Contents/Frameworks/MyFramework.framework
signing bundle at MyApp.app/Contents/Frameworks/MyFramework.framework into MyApp.app.NoMyFrameworkDoubleWild/Contents/Frameworks/MyFramework.framework
found a versioned framework; each version will be signed as its own bundle
replicating symlink MyApp.app.NoMyFrameworkDoubleWild/Contents/Frameworks/MyFramework.framework/Resources -> Versions/Current/Resources
replicating symlink MyApp.app.NoMyFrameworkDoubleWild/Contents/Frameworks/MyFramework.framework/Versions/Current -> A
leaving nested bundle Contents/Frameworks/MyFramework.framework
signing bundle at MyApp.app into MyApp.app.NoMyFrameworkDoubleWild
collecting code resources files
sealing nested directory as a bundle: Contents/Frameworks/MyFramework.framework
could not find main executable of presumed nested bundle: Contents/Frameworks/MyFramework.framework
copying file MyApp.app/Contents/Info.plist -> MyApp.app.NoMyFrameworkDoubleWild/Contents/Info.plist
writing sealed resources to MyApp.app.NoMyFrameworkDoubleWild/Contents/_CodeSignature/CodeResources
signing main executable Contents/MacOS/MyApp
setting main executable binary identifier to com.example.mybundle (derived from CFBundleIdentifier in Info.plist)
inferring default signing settings from Mach-O binary
signing Mach-O binary at index 0
binary targets macOS >= 11.0.0 with SDK 11.0.0
creating ad-hoc signature
code directory version: 132096
total signature size: 421 bytes
writing signed main executable to MyApp.app.NoMyFrameworkDoubleWild/Contents/MacOS/MyApp

$ rcodesign debug-file-tree MyApp.app.NoMyFrameworkDoubleWild
d                      MyApp.app.NoMyFrameworkDoubleWild/
d                      MyApp.app.NoMyFrameworkDoubleWild/Contents
d                      MyApp.app.NoMyFrameworkDoubleWild/Contents/Frameworks
d                      MyApp.app.NoMyFrameworkDoubleWild/Contents/Frameworks/MyFramework.framework
l                      MyApp.app.NoMyFrameworkDoubleWild/Contents/Frameworks/MyFramework.framework/Resources -> Versions/Current/Resources
d                      MyApp.app.NoMyFrameworkDoubleWild/Contents/Frameworks/MyFramework.framework/Versions
d                      MyApp.app.NoMyFrameworkDoubleWild/Contents/Frameworks/MyFramework.framework/Versions/A
f 8d89209153a67993e6ee MyApp.app.NoMyFrameworkDoubleWild/Contents/Frameworks/MyFramework.framework/Versions/A/MyFramework
d                      MyApp.app.NoMyFrameworkDoubleWild/Contents/Frameworks/MyFramework.framework/Versions/A/Resources
f 53c337af0bf7c0762126 MyApp.app.NoMyFrameworkDoubleWild/Contents/Frameworks/MyFramework.framework/Versions/A/Resources/Info.plist
l                      MyApp.app.NoMyFrameworkDoubleWild/Contents/Frameworks/MyFramework.framework/Versions/Current -> A
f 0a5902dc8e47f490d038 MyApp.app.NoMyFrameworkDoubleWild/Contents/Info.plist
d                      MyApp.app.NoMyFrameworkDoubleWild/Contents/MacOS
f 5320635ab22c67638660 MyApp.app.NoMyFrameworkDoubleWild/Contents/MacOS/MyApp
d                      MyApp.app.NoMyFrameworkDoubleWild/Contents/_CodeSignature
f 6686de10a28a2fe11b36 MyApp.app.NoMyFrameworkDoubleWild/Contents/_CodeSignature/CodeResources

$ rcodesign sign --exclude 'Contents/Frameworks/**' MyApp.app MyApp.app.NoFrameworksDoubleWild
signing MyApp.app to MyApp.app.NoFrameworksDoubleWild
signing bundle at MyApp.app
signing 2 nested bundles in the following order:
Contents/Frameworks/MyFramework.framework/Versions/A
Contents/Frameworks/MyFramework.framework
entering nested bundle Contents/Frameworks/MyFramework.framework/Versions/A
bundle is in exclusion list; it will be copied instead of signed
copying file MyApp.app/Contents/Frameworks/MyFramework.framework/Versions/A/MyFramework -> MyApp.app.NoFrameworksDoubleWild/Contents/Frameworks/MyFramework.framework/Versions/A/MyFramework
copying file MyApp.app/Contents/Frameworks/MyFramework.framework/Versions/A/Resources/Info.plist -> MyApp.app.NoFrameworksDoubleWild/Contents/Frameworks/MyFramework.framework/Versions/A/Resources/Info.plist
leaving nested bundle Contents/Frameworks/MyFramework.framework/Versions/A
entering nested bundle Contents/Frameworks/MyFramework.framework
bundle is in exclusion list; it will be copied instead of signed
replicating symlink MyApp.app.NoFrameworksDoubleWild/Contents/Frameworks/MyFramework.framework/Resources -> Versions/Current/Resources
replicating symlink MyApp.app.NoFrameworksDoubleWild/Contents/Frameworks/MyFramework.framework/Versions/Current -> A
leaving nested bundle Contents/Frameworks/MyFramework.framework
signing bundle at MyApp.app into MyApp.app.NoFrameworksDoubleWild
collecting code resources files
sealing nested directory as a bundle: Contents/Frameworks/MyFramework.framework
could not find main executable of presumed nested bundle: Contents/Frameworks/MyFramework.framework
copying file MyApp.app/Contents/Info.plist -> MyApp.app.NoFrameworksDoubleWild/Contents/Info.plist
writing sealed resources to MyApp.app.NoFrameworksDoubleWild/Contents/_CodeSignature/CodeResources
signing main executable Contents/MacOS/MyApp
setting main executable binary identifier to com.example.mybundle (derived from CFBundleIdentifier in Info.plist)
inferring default signing settings from Mach-O binary
signing Mach-O binary at index 0
binary targets macOS >= 11.0.0 with SDK 11.0.0
creating ad-hoc signature
code directory version: 132096
total signature size: 421 bytes
writing signed main executable to MyApp.app.NoFrameworksDoubleWild/Contents/MacOS/MyApp

$ rcodesign debug-file-tree MyApp.app.NoFrameworksDoubleWild
d                      MyApp.app.NoFrameworksDoubleWild/
d                      MyApp.app.NoFrameworksDoubleWild/Contents
d                      MyApp.app.NoFrameworksDoubleWild/Contents/Frameworks
d                      MyApp.app.NoFrameworksDoubleWild/Contents/Frameworks/MyFramework.framework
l                      MyApp.app.NoFrameworksDoubleWild/Contents/Frameworks/MyFramework.framework/Resources -> Versions/Current/Resources
d                      MyApp.app.NoFrameworksDoubleWild/Contents/Frameworks/MyFramework.framework/Versions
d                      MyApp.app.NoFrameworksDoubleWild/Contents/Frameworks/MyFramework.framework/Versions/A
f 8d89209153a67993e6ee MyApp.app.NoFrameworksDoubleWild/Contents/Frameworks/MyFramework.framework/Versions/A/MyFramework
d                      MyApp.app.NoFrameworksDoubleWild/Contents/Frameworks/MyFramework.framework/Versions/A/Resources
f 53c337af0bf7c0762126 MyApp.app.NoFrameworksDoubleWild/Contents/Frameworks/MyFramework.framework/Versions/A/Resources/Info.plist
l                      MyApp.app.NoFrameworksDoubleWild/Contents/Frameworks/MyFramework.framework/Versions/Current -> A
f 0a5902dc8e47f490d038 MyApp.app.NoFrameworksDoubleWild/Contents/Info.plist
d                      MyApp.app.NoFrameworksDoubleWild/Contents/MacOS
f 5320635ab22c67638660 MyApp.app.NoFrameworksDoubleWild/Contents/MacOS/MyApp
d                      MyApp.app.NoFrameworksDoubleWild/Contents/_CodeSignature
f 6686de10a28a2fe11b36 MyApp.app.NoFrameworksDoubleWild/Contents/_CodeSignature/CodeResources

$ rm -rf MyApp.app

```

Validate exclusion of Mach-O binaries

```
$ rcodesign debug-create-macho MyApp.app/Contents/MacOS/MyApp
assuming default minimum version 11.0.0
writing Mach-O to MyApp.app/Contents/MacOS/MyApp

$ rcodesign debug-create-macho MyApp.app/Contents/MacOS/macos-bin
assuming default minimum version 11.0.0
writing Mach-O to MyApp.app/Contents/MacOS/macos-bin

$ rcodesign debug-create-macho MyApp.app/Contents/Resources/resource-bin
assuming default minimum version 11.0.0
writing Mach-O to MyApp.app/Contents/Resources/resource-bin

$ rcodesign debug-create-info-plist --bundle-name MyApp MyApp.app/Contents/Info.plist
writing MyApp.app/Contents/Info.plist

$ rcodesign sign --exclude Contents/MacOS/macos-bin MyApp.app MyApp.app.NoMacOSBin
signing MyApp.app to MyApp.app.NoMacOSBin
signing bundle at MyApp.app
signing bundle at MyApp.app into MyApp.app.NoMacOSBin
collecting code resources files
copying file MyApp.app/Contents/Info.plist -> MyApp.app.NoMacOSBin/Contents/Info.plist
sealing nested Mach-O binary: Contents/MacOS/macos-bin
signing Mach-O file Contents/MacOS/macos-bin
inferring default signing settings from Mach-O binary
Mach-O is missing binary identifier; setting to macos-bin based on file name
signing Mach-O binary at index 0
binary targets macOS >= 11.0.0 with SDK 11.0.0
creating ad-hoc signature
code directory version: 132096
total signature size: 378 bytes
writing Mach-O to MyApp.app.NoMacOSBin/Contents/MacOS/macos-bin
non-nested file is a Mach-O binary; signing accordingly Contents/Resources/resource-bin
signing Mach-O file Contents/Resources/resource-bin
inferring default signing settings from Mach-O binary
Mach-O is missing binary identifier; setting to resource-bin based on file name
signing Mach-O binary at index 0
binary targets macOS >= 11.0.0 with SDK 11.0.0
creating ad-hoc signature
code directory version: 132096
total signature size: 381 bytes
writing Mach-O to MyApp.app.NoMacOSBin/Contents/Resources/resource-bin
writing sealed resources to MyApp.app.NoMacOSBin/Contents/_CodeSignature/CodeResources
signing main executable Contents/MacOS/MyApp
setting main executable binary identifier to com.example.mybundle (derived from CFBundleIdentifier in Info.plist)
inferring default signing settings from Mach-O binary
signing Mach-O binary at index 0
binary targets macOS >= 11.0.0 with SDK 11.0.0
creating ad-hoc signature
code directory version: 132096
total signature size: 421 bytes
writing signed main executable to MyApp.app.NoMacOSBin/Contents/MacOS/MyApp

$ rcodesign debug-file-tree MyApp.app.NoMacOSBin
d                      MyApp.app.NoMacOSBin/
d                      MyApp.app.NoMacOSBin/Contents
f 0a5902dc8e47f490d038 MyApp.app.NoMacOSBin/Contents/Info.plist
d                      MyApp.app.NoMacOSBin/Contents/MacOS
f 83e61e1e1c3407ff46d1 MyApp.app.NoMacOSBin/Contents/MacOS/MyApp
f 90dd49841af359158311 MyApp.app.NoMacOSBin/Contents/MacOS/macos-bin
d                      MyApp.app.NoMacOSBin/Contents/Resources
f 30b6fef6ae310318e47f MyApp.app.NoMacOSBin/Contents/Resources/resource-bin
d                      MyApp.app.NoMacOSBin/Contents/_CodeSignature
f 0acb1d044d421846ebc7 MyApp.app.NoMacOSBin/Contents/_CodeSignature/CodeResources

$ rcodesign sign --exclude Contents/Resources/resource-bin MyApp.app MyApp.app.NoResourcesBin
signing MyApp.app to MyApp.app.NoResourcesBin
signing bundle at MyApp.app
signing bundle at MyApp.app into MyApp.app.NoResourcesBin
collecting code resources files
copying file MyApp.app/Contents/Info.plist -> MyApp.app.NoResourcesBin/Contents/Info.plist
sealing nested Mach-O binary: Contents/MacOS/macos-bin
signing Mach-O file Contents/MacOS/macos-bin
inferring default signing settings from Mach-O binary
Mach-O is missing binary identifier; setting to macos-bin based on file name
signing Mach-O binary at index 0
binary targets macOS >= 11.0.0 with SDK 11.0.0
creating ad-hoc signature
code directory version: 132096
total signature size: 378 bytes
writing Mach-O to MyApp.app.NoResourcesBin/Contents/MacOS/macos-bin
non-nested file is a Mach-O binary; signing accordingly Contents/Resources/resource-bin
signing Mach-O file Contents/Resources/resource-bin
inferring default signing settings from Mach-O binary
Mach-O is missing binary identifier; setting to resource-bin based on file name
signing Mach-O binary at index 0
binary targets macOS >= 11.0.0 with SDK 11.0.0
creating ad-hoc signature
code directory version: 132096
total signature size: 381 bytes
writing Mach-O to MyApp.app.NoResourcesBin/Contents/Resources/resource-bin
writing sealed resources to MyApp.app.NoResourcesBin/Contents/_CodeSignature/CodeResources
signing main executable Contents/MacOS/MyApp
setting main executable binary identifier to com.example.mybundle (derived from CFBundleIdentifier in Info.plist)
inferring default signing settings from Mach-O binary
signing Mach-O binary at index 0
binary targets macOS >= 11.0.0 with SDK 11.0.0
creating ad-hoc signature
code directory version: 132096
total signature size: 421 bytes
writing signed main executable to MyApp.app.NoResourcesBin/Contents/MacOS/MyApp

$ rcodesign debug-file-tree MyApp.app.NoResourcesBin
d                      MyApp.app.NoResourcesBin/
d                      MyApp.app.NoResourcesBin/Contents
f 0a5902dc8e47f490d038 MyApp.app.NoResourcesBin/Contents/Info.plist
d                      MyApp.app.NoResourcesBin/Contents/MacOS
f 83e61e1e1c3407ff46d1 MyApp.app.NoResourcesBin/Contents/MacOS/MyApp
f 90dd49841af359158311 MyApp.app.NoResourcesBin/Contents/MacOS/macos-bin
d                      MyApp.app.NoResourcesBin/Contents/Resources
f 30b6fef6ae310318e47f MyApp.app.NoResourcesBin/Contents/Resources/resource-bin
d                      MyApp.app.NoResourcesBin/Contents/_CodeSignature
f 0acb1d044d421846ebc7 MyApp.app.NoResourcesBin/Contents/_CodeSignature/CodeResources

```
