Sign a bundle containing a multi-arch Mach-O binary

```
$ rcodesign debug-create-macho --architecture aarch64 exe.aarch64
assuming default minimum version 11.0.0
writing Mach-O to exe.aarch64

$ rcodesign debug-create-macho --architecture x86-64 --minimum-os-version 10.9.0 exe.x86-64
writing Mach-O to exe.x86-64

$ rcodesign macho-universal-create -o MyApp.app/Contents/MacOS/MyApp exe.aarch64 exe.x86-64
adding exe.aarch64
adding exe.x86-64
writing MyApp.app/Contents/MacOS/MyApp

$ rcodesign macho-universal-create -o MyApp.app/Contents/MacOS/extra-bin exe.aarch64 exe.x86-64
adding exe.aarch64
adding exe.x86-64
writing MyApp.app/Contents/MacOS/extra-bin

$ rcodesign debug-create-info-plist --bundle-name MyApp MyApp.app/Contents/Info.plist
writing MyApp.app/Contents/Info.plist

$ rcodesign sign MyApp.app MyApp.app.signed
signing MyApp.app to MyApp.app.signed
signing bundle at MyApp.app
signing bundle at MyApp.app into MyApp.app.signed
signing Mach-O file Contents/MacOS/extra-bin
signing main executable Contents/MacOS/MyApp

$ rcodesign debug-file-tree MyApp.app.signed
d                      MyApp.app.signed/
d                      MyApp.app.signed/Contents
f 0a5902dc8e47f490d038 MyApp.app.signed/Contents/Info.plist
d                      MyApp.app.signed/Contents/MacOS
f 008c7be45e033e0ea8ff MyApp.app.signed/Contents/MacOS/MyApp
f f6e7481573cf18d78a0e MyApp.app.signed/Contents/MacOS/extra-bin
d                      MyApp.app.signed/Contents/_CodeSignature
f b13eb8a53e7cba2ab68c MyApp.app.signed/Contents/_CodeSignature/CodeResources

$ rcodesign print-signature-info MyApp.app.signed
- path: Contents/Info.plist
  file_size: 576
  file_sha256: 0a5902dc8e47f490d03889d3593d17bddbf79e6c1f79494e20dd28f9459effa5
  entity: other
- path: Contents/MacOS/MyApp
  file_size: 60432
  file_sha256: 008c7be45e033e0ea8ffc3826d8ecda4045e92ea5645270667993cdd63b5e70e
  sub_path: macho-index:0
  entity:
    mach_o:
      linkedit_segment_file_start_offset: 16384
      linkedit_segment_file_end_offset: 23568
      signature_file_start_offset: 16400
      signature_file_end_offset: 23568
      signature_linkedit_start_offset: 16
      signature_linkedit_end_offset: 7184
      signature:
        superblob_length: 698
        blob_count: 4
        blobs:
        - slot: CodeDirectory (0)
          magic: fade0c02
          length: 269
          sha1: 9bb5342376d1906eb27255e24094e88afea44a94
          sha256: 8afd2f25ad1703c551195cd552085d520857de95f228bcbc450c5a66c4fc33b0
        - slot: RequirementSet (2)
          magic: fade0c01
          length: 12
          sha1: 3a75f6db058529148e14dd7ea1b4729cc09ec973
          sha256: 987920904eab650e75788c054aa0b0524e6a80bfc71aa32df8d237a61743f986
        - slot: 'CodeDirectory Alternate #0 (4096)'
          magic: fade0c02
          length: 365
          sha1: 681be5cb223b023f3cf952feb301d027594c4c51
          sha256: d23dc308700f5822d0423a247c5be07c3cbaaa243dce2b268e3795034d17dca0
        - slot: CMS Signature (65536)
          magic: fade0b01
          length: 8
          sha1: 2a7254313aa41796079bb0e9d0f044345f69f98b
          sha256: e6c83bc98a10348492c7d4d2378a54572ef29e1a5692ccd02b5e29f4b762d6a0
        code_directory:
          version: '0x20400'
          flags: CodeSignatureFlags(ADHOC)
          identifier: com.example.mybundle
          digest_type: sha1
          platform: 0
          signed_entity_size: 16400
          executable_segment_flags: ExecutableSegmentFlags(MAIN_BINARY)
          code_digests_count: 5
          slot_digests:
          - 'Info (1): 65bf1c26bc63ccdfe6688cc787b06f88f3435ef0'
          - 'RequirementSet (2): 3a75f6db058529148e14dd7ea1b4729cc09ec973'
          - 'Resources (3): 90f81c56d85496d09cb4e2f4bfef0c2eb581e641'
        alternative_code_directories:
        - - 'CodeDirectory Alternate #0 (4096)'
          - version: '0x20400'
            flags: CodeSignatureFlags(ADHOC)
            identifier: com.example.mybundle
            digest_type: sha256
            platform: 0
            signed_entity_size: 16400
            executable_segment_flags: ExecutableSegmentFlags(MAIN_BINARY)
            code_digests_count: 5
            slot_digests:
            - 'Info (1): 0a5902dc8e47f490d03889d3593d17bddbf79e6c1f79494e20dd28f9459effa5'
            - 'RequirementSet (2): 987920904eab650e75788c054aa0b0524e6a80bfc71aa32df8d237a61743f986'
            - 'Resources (3): b13eb8a53e7cba2ab68ca97e0daf994eb26b58fe795735a941fbc9ff7d8571d2'
        cms: null
- path: Contents/MacOS/MyApp
  file_size: 60432
  file_sha256: 008c7be45e033e0ea8ffc3826d8ecda4045e92ea5645270667993cdd63b5e70e
  sub_path: macho-index:1
  entity:
    mach_o:
      linkedit_segment_file_start_offset: 4096
      linkedit_segment_file_end_offset: 11280
      signature_file_start_offset: 4112
      signature_file_end_offset: 11280
      signature_linkedit_start_offset: 16
      signature_linkedit_end_offset: 7184
      signature:
        superblob_length: 542
        blob_count: 4
        blobs:
        - slot: CodeDirectory (0)
          magic: fade0c02
          length: 209
          sha1: 3f4d7f93ca6a0b96fc9d7c7d4173f4fc9fc3fd5d
          sha256: 57a49cd07307da1a6dd3fbd4e3004bff069a36bc4dbbb07b62660e6033828fc4
        - slot: RequirementSet (2)
          magic: fade0c01
          length: 12
          sha1: 3a75f6db058529148e14dd7ea1b4729cc09ec973
          sha256: 987920904eab650e75788c054aa0b0524e6a80bfc71aa32df8d237a61743f986
        - slot: 'CodeDirectory Alternate #0 (4096)'
          magic: fade0c02
          length: 269
          sha1: d7f0d9e2c4b0cd545e9eafeba3d0c6c163c62558
          sha256: 451fae4e866938754e7374cc2c2435d709e56caa12c0c67cadeb7b2788c5eeca
        - slot: CMS Signature (65536)
          magic: fade0b01
          length: 8
          sha1: 2a7254313aa41796079bb0e9d0f044345f69f98b
          sha256: e6c83bc98a10348492c7d4d2378a54572ef29e1a5692ccd02b5e29f4b762d6a0
        code_directory:
          version: '0x20400'
          flags: CodeSignatureFlags(ADHOC)
          identifier: com.example.mybundle
          digest_type: sha1
          platform: 0
          signed_entity_size: 4112
          executable_segment_flags: ExecutableSegmentFlags(MAIN_BINARY)
          code_digests_count: 2
          slot_digests:
          - 'Info (1): 65bf1c26bc63ccdfe6688cc787b06f88f3435ef0'
          - 'RequirementSet (2): 3a75f6db058529148e14dd7ea1b4729cc09ec973'
          - 'Resources (3): 90f81c56d85496d09cb4e2f4bfef0c2eb581e641'
        alternative_code_directories:
        - - 'CodeDirectory Alternate #0 (4096)'
          - version: '0x20400'
            flags: CodeSignatureFlags(ADHOC)
            identifier: com.example.mybundle
            digest_type: sha256
            platform: 0
            signed_entity_size: 4112
            executable_segment_flags: ExecutableSegmentFlags(MAIN_BINARY)
            code_digests_count: 2
            slot_digests:
            - 'Info (1): 0a5902dc8e47f490d03889d3593d17bddbf79e6c1f79494e20dd28f9459effa5'
            - 'RequirementSet (2): 987920904eab650e75788c054aa0b0524e6a80bfc71aa32df8d237a61743f986'
            - 'Resources (3): b13eb8a53e7cba2ab68ca97e0daf994eb26b58fe795735a941fbc9ff7d8571d2'
        cms: null
- path: Contents/MacOS/extra-bin
  file_size: 60432
  file_sha256: f6e7481573cf18d78a0ed99022d118a465b39b688217179ea80347de77a107a2
  sub_path: macho-index:0
  entity:
    mach_o:
      linkedit_segment_file_start_offset: 16384
      linkedit_segment_file_end_offset: 23568
      signature_file_start_offset: 16400
      signature_file_end_offset: 23568
      signature_linkedit_start_offset: 16
      signature_linkedit_end_offset: 7184
      signature:
        superblob_length: 624
        blob_count: 4
        blobs:
        - slot: CodeDirectory (0)
          magic: fade0c02
          length: 238
          sha1: 33d0d81907883efd5fdd04af1ad6325db9ca0973
          sha256: 402627fdbaeea6373a2e5b5b56784a6aca549b9c1f39a8b5e4bffdda78dfd170
        - slot: RequirementSet (2)
          magic: fade0c01
          length: 12
          sha1: 3a75f6db058529148e14dd7ea1b4729cc09ec973
          sha256: 987920904eab650e75788c054aa0b0524e6a80bfc71aa32df8d237a61743f986
        - slot: 'CodeDirectory Alternate #0 (4096)'
          magic: fade0c02
          length: 322
          sha1: af7a5c530e0ee18a6425da22361915baf5482bdd
          sha256: 639f6dcf3661837c14d59b907bc607cec675bc7eefa2df8c6819d8492b6da455
        - slot: CMS Signature (65536)
          magic: fade0b01
          length: 8
          sha1: 2a7254313aa41796079bb0e9d0f044345f69f98b
          sha256: e6c83bc98a10348492c7d4d2378a54572ef29e1a5692ccd02b5e29f4b762d6a0
        code_directory:
          version: '0x20400'
          flags: CodeSignatureFlags(ADHOC)
          identifier: extra-bin
          digest_type: sha1
          platform: 0
          signed_entity_size: 16400
          executable_segment_flags: ExecutableSegmentFlags(MAIN_BINARY)
          code_digests_count: 5
          slot_digests:
          - 'Info (1): 0000000000000000000000000000000000000000'
          - 'RequirementSet (2): 3a75f6db058529148e14dd7ea1b4729cc09ec973'
        alternative_code_directories:
        - - 'CodeDirectory Alternate #0 (4096)'
          - version: '0x20400'
            flags: CodeSignatureFlags(ADHOC)
            identifier: extra-bin
            digest_type: sha256
            platform: 0
            signed_entity_size: 16400
            executable_segment_flags: ExecutableSegmentFlags(MAIN_BINARY)
            code_digests_count: 5
            slot_digests:
            - 'Info (1): 0000000000000000000000000000000000000000000000000000000000000000'
            - 'RequirementSet (2): 987920904eab650e75788c054aa0b0524e6a80bfc71aa32df8d237a61743f986'
        cms: null
- path: Contents/MacOS/extra-bin
  file_size: 60432
  file_sha256: f6e7481573cf18d78a0ed99022d118a465b39b688217179ea80347de77a107a2
  sub_path: macho-index:1
  entity:
    mach_o:
      linkedit_segment_file_start_offset: 4096
      linkedit_segment_file_end_offset: 11280
      signature_file_start_offset: 4112
      signature_file_end_offset: 11280
      signature_linkedit_start_offset: 16
      signature_linkedit_end_offset: 7184
      signature:
        superblob_length: 468
        blob_count: 4
        blobs:
        - slot: CodeDirectory (0)
          magic: fade0c02
          length: 178
          sha1: 081cb913e277d2314f0cf29f09ad50d6706ee05c
          sha256: 503220ed37549b1acb847a37ec37c68b393466a5c3581d6bdf60b7202e733e44
        - slot: RequirementSet (2)
          magic: fade0c01
          length: 12
          sha1: 3a75f6db058529148e14dd7ea1b4729cc09ec973
          sha256: 987920904eab650e75788c054aa0b0524e6a80bfc71aa32df8d237a61743f986
        - slot: 'CodeDirectory Alternate #0 (4096)'
          magic: fade0c02
          length: 226
          sha1: 08f6f638476c7f9e3538bd455889beb8852dcb92
          sha256: 3e8d1a5abf40765a1d15ff00407a8822f153afa966f9283e813b7b456a7c5888
        - slot: CMS Signature (65536)
          magic: fade0b01
          length: 8
          sha1: 2a7254313aa41796079bb0e9d0f044345f69f98b
          sha256: e6c83bc98a10348492c7d4d2378a54572ef29e1a5692ccd02b5e29f4b762d6a0
        code_directory:
          version: '0x20400'
          flags: CodeSignatureFlags(ADHOC)
          identifier: extra-bin
          digest_type: sha1
          platform: 0
          signed_entity_size: 4112
          executable_segment_flags: ExecutableSegmentFlags(MAIN_BINARY)
          code_digests_count: 2
          slot_digests:
          - 'Info (1): 0000000000000000000000000000000000000000'
          - 'RequirementSet (2): 3a75f6db058529148e14dd7ea1b4729cc09ec973'
        alternative_code_directories:
        - - 'CodeDirectory Alternate #0 (4096)'
          - version: '0x20400'
            flags: CodeSignatureFlags(ADHOC)
            identifier: extra-bin
            digest_type: sha256
            platform: 0
            signed_entity_size: 4112
            executable_segment_flags: ExecutableSegmentFlags(MAIN_BINARY)
            code_digests_count: 2
            slot_digests:
            - 'Info (1): 0000000000000000000000000000000000000000000000000000000000000000'
            - 'RequirementSet (2): 987920904eab650e75788c054aa0b0524e6a80bfc71aa32df8d237a61743f986'
        cms: null
- path: Contents/_CodeSignature/CodeResources
  file_size: 2485
  file_sha256: b13eb8a53e7cba2ab68ca97e0daf994eb26b58fe795735a941fbc9ff7d8571d2
  entity:
    bundle_code_signature_file: !ResourcesXml
    - <?xml version="1.0" encoding="UTF-8"?>
    - <!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
    - <plist version="1.0">
    - <dict>
    - '  <key>files</key>'
    - '  <dict/>'
    - '  <key>files2</key>'
    - '  <dict>'
    - '    <key>MacOS/extra-bin</key>'
    - '    <dict>'
    - '      <key>cdhash</key>'
    - '      <data>'
    - '      Y59tzzZhg3wU1ZuQe8YHzsZ1vH4='
    - '      </data>'
    - '      <key>requirement</key>'
    - '      <string>(cdhash H"639f6dcf3661837c14d59b907bc607cec675bc7e") or (cdhash H"3e8d1a5abf40765a1d15ff00407a8822f153afa9")</string>'
    - '    </dict>'
    - '  </dict>'
    - '  <key>rules</key>'
    - '  <dict>'
    - '    <key>^Resources/</key>'
    - '    <true/>'
    - '    <key>^Resources/.*/.lproj/</key>'
    - '    <dict>'
    - '      <key>optional</key>'
    - '      <true/>'
    - '      <key>weight</key>'
    - '      <real>1000</real>'
    - '    </dict>'
    - '    <key>^Resources/.*/.lproj/locversion.plist$</key>'
    - '    <dict>'
    - '      <key>omit</key>'
    - '      <true/>'
    - '      <key>weight</key>'
    - '      <real>1100</real>'
    - '    </dict>'
    - '    <key>^Resources/Base/.lproj/</key>'
    - '    <dict>'
    - '      <key>weight</key>'
    - '      <real>1010</real>'
    - '    </dict>'
    - '    <key>^version.plist$</key>'
    - '    <true/>'
    - '  </dict>'
    - '  <key>rules2</key>'
    - '  <dict>'
    - '    <key>.*/.dSYM($|/)</key>'
    - '    <dict>'
    - '      <key>weight</key>'
    - '      <real>11</real>'
    - '    </dict>'
    - '    <key>^(.*/)?/.DS_Store$</key>'
    - '    <dict>'
    - '      <key>omit</key>'
    - '      <true/>'
    - '      <key>weight</key>'
    - '      <real>2000</real>'
    - '    </dict>'
    - '    <key>^(Frameworks|SharedFrameworks|PlugIns|Plug-ins|XPCServices|Helpers|MacOS|Library/(Automator|Spotlight|LoginItems))/</key>'
    - '    <dict>'
    - '      <key>nested</key>'
    - '      <true/>'
    - '      <key>weight</key>'
    - '      <real>10</real>'
    - '    </dict>'
    - '    <key>^.*</key>'
    - '    <true/>'
    - '    <key>^Info/.plist$</key>'
    - '    <dict>'
    - '      <key>omit</key>'
    - '      <true/>'
    - '      <key>weight</key>'
    - '      <real>20</real>'
    - '    </dict>'
    - '    <key>^PkgInfo$</key>'
    - '    <dict>'
    - '      <key>omit</key>'
    - '      <true/>'
    - '      <key>weight</key>'
    - '      <real>20</real>'
    - '    </dict>'
    - '    <key>^Resources/</key>'
    - '    <dict>'
    - '      <key>weight</key>'
    - '      <real>20</real>'
    - '    </dict>'
    - '    <key>^Resources/.*/.lproj/</key>'
    - '    <dict>'
    - '      <key>optional</key>'
    - '      <true/>'
    - '      <key>weight</key>'
    - '      <real>1000</real>'
    - '    </dict>'
    - '    <key>^Resources/.*/.lproj/locversion.plist$</key>'
    - '    <dict>'
    - '      <key>omit</key>'
    - '      <true/>'
    - '      <key>weight</key>'
    - '      <real>1100</real>'
    - '    </dict>'
    - '    <key>^Resources/Base/.lproj/</key>'
    - '    <dict>'
    - '      <key>weight</key>'
    - '      <real>1010</real>'
    - '    </dict>'
    - '    <key>^[^/]+$</key>'
    - '    <dict>'
    - '      <key>nested</key>'
    - '      <true/>'
    - '      <key>weight</key>'
    - '      <real>10</real>'
    - '    </dict>'
    - '    <key>^embedded/.provisionprofile$</key>'
    - '    <dict>'
    - '      <key>weight</key>'
    - '      <real>20</real>'
    - '    </dict>'
    - '    <key>^version/.plist$</key>'
    - '    <dict>'
    - '      <key>weight</key>'
    - '      <real>20</real>'
    - '    </dict>'
    - '  </dict>'
    - </dict>
    - </plist>
    - ''

```
