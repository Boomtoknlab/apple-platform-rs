Sign a bundle containing multiple Mach-O binaries.

```
$ rcodesign debug-create-macho MyApp.app/Contents/MacOS/MyApp
assuming default minimum version 11.0.0
writing Mach-O to MyApp.app/Contents/MacOS/MyApp

$ rcodesign debug-create-macho MyApp.app/Contents/MacOS/bin
assuming default minimum version 11.0.0
writing Mach-O to MyApp.app/Contents/MacOS/bin

$ rcodesign debug-create-macho --file-type dylib MyApp.app/Contents/MacOS/lib.dylib
assuming default minimum version 11.0.0
writing Mach-O to MyApp.app/Contents/MacOS/lib.dylib

$ rcodesign debug-create-macho MyApp.app/Contents/Resources/non-nested-bin
assuming default minimum version 11.0.0
writing Mach-O to MyApp.app/Contents/Resources/non-nested-bin

$ rcodesign debug-create-info-plist --bundle-name MyApp MyApp.app/Contents/Info.plist
writing MyApp.app/Contents/Info.plist

$ rcodesign debug-create-entitlements --get-task-allow entitlements.plist
writing entitlements.plist

$ rcodesign sign --entitlements-xml-file entitlements.plist MyApp.app MyApp.app.signed
setting entitlements XML for main signing target from path entitlements.plist
signing MyApp.app to MyApp.app.signed
signing bundle at MyApp.app
signing bundle at MyApp.app into MyApp.app.signed
signing Mach-O file Contents/MacOS/bin
signing Mach-O file Contents/MacOS/lib.dylib
signing Mach-O file Contents/Resources/non-nested-bin
signing main executable Contents/MacOS/MyApp

$ rcodesign debug-file-tree MyApp.app.signed
d                      MyApp.app.signed/
d                      MyApp.app.signed/Contents
f 0a5902dc8e47f490d038 MyApp.app.signed/Contents/Info.plist
d                      MyApp.app.signed/Contents/MacOS
f ab120a726141251db1cb MyApp.app.signed/Contents/MacOS/MyApp
f 7714e7695ba1ec0fd44a MyApp.app.signed/Contents/MacOS/bin
f 4b4232445b695cab6482 MyApp.app.signed/Contents/MacOS/lib.dylib
d                      MyApp.app.signed/Contents/Resources
f c2683247ea953caa166d MyApp.app.signed/Contents/Resources/non-nested-bin
d                      MyApp.app.signed/Contents/_CodeSignature
f 61abffc781f3e15d45ad MyApp.app.signed/Contents/_CodeSignature/CodeResources

$ rcodesign print-signature-info MyApp.app.signed
- path: Contents/Info.plist
  file_size: 576
  file_sha256: 0a5902dc8e47f490d03889d3593d17bddbf79e6c1f79494e20dd28f9459effa5
  entity: other
- path: Contents/MacOS/MyApp
  file_size: 22544
  file_sha256: ab120a726141251db1cb8bde767f62de23212fff92cc0d866a44b011e7306b67
  entity:
    mach_o:
      macho_linkedit_start_offset: 16384 / 0x4000
      macho_signature_start_offset: 16400 / 0x4010
      macho_signature_end_offset: 17232 / 0x4350
      macho_linkedit_end_offset: 22544 / 0x5810
      macho_end_offset: 22544 / 0x5810
      linkedit_signature_start_offset: 16 / 0x10
      linkedit_signature_end_offset: 848 / 0x350
      linkedit_bytes_after_signature: 5312 / 0x14c0
      signature:
        superblob_length: 832 / 0x340
        blob_count: 5
        blobs:
        - slot: CodeDirectory (0)
          magic: fade0c02
          length: 493
          sha1: b7102f4478fc44c73657143c996db8768ab208d9
          sha256: 20c8956bf08bbe7baf4630ec626bf25a5da3391d6472d7a693e483c278716361
        - slot: RequirementSet (2)
          magic: fade0c01
          length: 12
          sha1: 3a75f6db058529148e14dd7ea1b4729cc09ec973
          sha256: 987920904eab650e75788c054aa0b0524e6a80bfc71aa32df8d237a61743f986
        - slot: Entitlements (5)
          magic: fade7171
          length: 231
          sha1: 609a70a1468d84bef2be0146d1f0a5ea1c839948
          sha256: adea2675562421d85cc35e2c909ae27f33846eeb3b2b7c68017abd1b4b02f624
        - slot: DER Entitlements (7)
          magic: fade7172
          length: 36
          sha1: 1018e52606e45993b16da1c621ceec945b9d5226
          sha256: 4d9925d24f1357a00429379f31f567cedfaa8101d58442e7864f923bfb708794
        - slot: CMS Signature (65536)
          magic: fade0b01
          length: 8
          sha1: 2a7254313aa41796079bb0e9d0f044345f69f98b
          sha256: e6c83bc98a10348492c7d4d2378a54572ef29e1a5692ccd02b5e29f4b762d6a0
        code_directory:
          version: '0x20400'
          flags: CodeSignatureFlags(ADHOC)
          identifier: com.example.mybundle
          digest_type: sha256
          platform: 0
          signed_entity_size: 16400
          executable_segment_flags: ExecutableSegmentFlags(MAIN_BINARY | ALLOW_UNSIGNED)
          code_digests_count: 5
          slot_digests:
          - 'Info (1): 0a5902dc8e47f490d03889d3593d17bddbf79e6c1f79494e20dd28f9459effa5'
          - 'RequirementSet (2): 987920904eab650e75788c054aa0b0524e6a80bfc71aa32df8d237a61743f986'
          - 'Resources (3): 61abffc781f3e15d45adcb78df283f2441c195830435b1588d04a99e43fa393d'
          - 'Application (4): 0000000000000000000000000000000000000000000000000000000000000000'
          - 'Entitlements (5): adea2675562421d85cc35e2c909ae27f33846eeb3b2b7c68017abd1b4b02f624'
          - 'Rep Specific (6): 0000000000000000000000000000000000000000000000000000000000000000'
          - 'DER Entitlements (7): 4d9925d24f1357a00429379f31f567cedfaa8101d58442e7864f923bfb708794'
        entitlements_plist:
        - <?xml version="1.0" encoding="UTF-8"?>
        - <!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
        - <plist version="1.0">
        - <dict>
        - '  <key>get-task-allow</key>'
        - '  <true/>'
        - </dict>
        - </plist>
        entitlements_der_plist:
        - <?xml version="1.0" encoding="UTF-8"?>
        - <plist version="1.0">
        - '  <dict>'
        - '    <key>get-task-allow</key>'
        - '    <true />'
        - '  </dict>'
        - </plist>
        cms: null
- path: Contents/MacOS/bin
  file_size: 22544
  file_sha256: 7714e7695ba1ec0fd44ae95728bf71533ff39d484c2bfe5c56cd9092f2273072
  entity:
    mach_o:
      macho_linkedit_start_offset: 16384 / 0x4000
      macho_signature_start_offset: 16400 / 0x4010
      macho_signature_end_offset: 17215 / 0x433f
      macho_linkedit_end_offset: 22544 / 0x5810
      macho_end_offset: 22544 / 0x5810
      linkedit_signature_start_offset: 16 / 0x10
      linkedit_signature_end_offset: 831 / 0x33f
      linkedit_bytes_after_signature: 5329 / 0x14d1
      signature:
        superblob_length: 815 / 0x32f
        blob_count: 5
        blobs:
        - slot: CodeDirectory (0)
          magic: fade0c02
          length: 476
          sha1: dec034de0ffbd14462555813150d9664424f9f1a
          sha256: 261db491dc987260e2ae966aa37cf415c4d5ce45eae2eb7fba24e13f1dfdd538
        - slot: RequirementSet (2)
          magic: fade0c01
          length: 12
          sha1: 3a75f6db058529148e14dd7ea1b4729cc09ec973
          sha256: 987920904eab650e75788c054aa0b0524e6a80bfc71aa32df8d237a61743f986
        - slot: Entitlements (5)
          magic: fade7171
          length: 231
          sha1: 609a70a1468d84bef2be0146d1f0a5ea1c839948
          sha256: adea2675562421d85cc35e2c909ae27f33846eeb3b2b7c68017abd1b4b02f624
        - slot: DER Entitlements (7)
          magic: fade7172
          length: 36
          sha1: 1018e52606e45993b16da1c621ceec945b9d5226
          sha256: 4d9925d24f1357a00429379f31f567cedfaa8101d58442e7864f923bfb708794
        - slot: CMS Signature (65536)
          magic: fade0b01
          length: 8
          sha1: 2a7254313aa41796079bb0e9d0f044345f69f98b
          sha256: e6c83bc98a10348492c7d4d2378a54572ef29e1a5692ccd02b5e29f4b762d6a0
        code_directory:
          version: '0x20400'
          flags: CodeSignatureFlags(ADHOC)
          identifier: bin
          digest_type: sha256
          platform: 0
          signed_entity_size: 16400
          executable_segment_flags: ExecutableSegmentFlags(MAIN_BINARY | ALLOW_UNSIGNED)
          code_digests_count: 5
          slot_digests:
          - 'Info (1): 0000000000000000000000000000000000000000000000000000000000000000'
          - 'RequirementSet (2): 987920904eab650e75788c054aa0b0524e6a80bfc71aa32df8d237a61743f986'
          - 'Resources (3): 0000000000000000000000000000000000000000000000000000000000000000'
          - 'Application (4): 0000000000000000000000000000000000000000000000000000000000000000'
          - 'Entitlements (5): adea2675562421d85cc35e2c909ae27f33846eeb3b2b7c68017abd1b4b02f624'
          - 'Rep Specific (6): 0000000000000000000000000000000000000000000000000000000000000000'
          - 'DER Entitlements (7): 4d9925d24f1357a00429379f31f567cedfaa8101d58442e7864f923bfb708794'
        entitlements_plist:
        - <?xml version="1.0" encoding="UTF-8"?>
        - <!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
        - <plist version="1.0">
        - <dict>
        - '  <key>get-task-allow</key>'
        - '  <true/>'
        - </dict>
        - </plist>
        entitlements_der_plist:
        - <?xml version="1.0" encoding="UTF-8"?>
        - <plist version="1.0">
        - '  <dict>'
        - '    <key>get-task-allow</key>'
        - '    <true />'
        - '  </dict>'
        - </plist>
        cms: null
- path: Contents/MacOS/lib.dylib
  file_size: 22544
  file_sha256: 4b4232445b695cab6482be8e9bb08fff1525d56268a37a18459e039d830bf579
  entity:
    mach_o:
      macho_linkedit_start_offset: 16384 / 0x4000
      macho_signature_start_offset: 16400 / 0x4010
      macho_signature_end_offset: 17107 / 0x42d3
      macho_linkedit_end_offset: 22544 / 0x5810
      macho_end_offset: 22544 / 0x5810
      linkedit_signature_start_offset: 16 / 0x10
      linkedit_signature_end_offset: 723 / 0x2d3
      linkedit_bytes_after_signature: 5437 / 0x153d
      signature:
        superblob_length: 707 / 0x2c3
        blob_count: 4
        blobs:
        - slot: CodeDirectory (0)
          magic: fade0c02
          length: 412
          sha1: 084af8a2b1fe18a61dd93b959ab52e861e4c24d0
          sha256: e8efde56346957283b5644f8b1099acbc1a2b1a909495e7941fd2f1cad83a107
        - slot: RequirementSet (2)
          magic: fade0c01
          length: 12
          sha1: 3a75f6db058529148e14dd7ea1b4729cc09ec973
          sha256: 987920904eab650e75788c054aa0b0524e6a80bfc71aa32df8d237a61743f986
        - slot: Entitlements (5)
          magic: fade7171
          length: 231
          sha1: 609a70a1468d84bef2be0146d1f0a5ea1c839948
          sha256: adea2675562421d85cc35e2c909ae27f33846eeb3b2b7c68017abd1b4b02f624
        - slot: CMS Signature (65536)
          magic: fade0b01
          length: 8
          sha1: 2a7254313aa41796079bb0e9d0f044345f69f98b
          sha256: e6c83bc98a10348492c7d4d2378a54572ef29e1a5692ccd02b5e29f4b762d6a0
        code_directory:
          version: '0x20400'
          flags: CodeSignatureFlags(ADHOC)
          identifier: lib
          digest_type: sha256
          platform: 0
          signed_entity_size: 16400
          executable_segment_flags: ExecutableSegmentFlags(0x0)
          code_digests_count: 5
          slot_digests:
          - 'Info (1): 0000000000000000000000000000000000000000000000000000000000000000'
          - 'RequirementSet (2): 987920904eab650e75788c054aa0b0524e6a80bfc71aa32df8d237a61743f986'
          - 'Resources (3): 0000000000000000000000000000000000000000000000000000000000000000'
          - 'Application (4): 0000000000000000000000000000000000000000000000000000000000000000'
          - 'Entitlements (5): adea2675562421d85cc35e2c909ae27f33846eeb3b2b7c68017abd1b4b02f624'
        entitlements_plist:
        - <?xml version="1.0" encoding="UTF-8"?>
        - <!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
        - <plist version="1.0">
        - <dict>
        - '  <key>get-task-allow</key>'
        - '  <true/>'
        - </dict>
        - </plist>
        cms: null
- path: Contents/Resources/non-nested-bin
  file_size: 22544
  file_sha256: c2683247ea953caa166ddc919a8663edadcfef84e88dd8a0189930d4d288d3bc
  entity:
    mach_o:
      macho_linkedit_start_offset: 16384 / 0x4000
      macho_signature_start_offset: 16400 / 0x4010
      macho_signature_end_offset: 17226 / 0x434a
      macho_linkedit_end_offset: 22544 / 0x5810
      macho_end_offset: 22544 / 0x5810
      linkedit_signature_start_offset: 16 / 0x10
      linkedit_signature_end_offset: 842 / 0x34a
      linkedit_bytes_after_signature: 5318 / 0x14c6
      signature:
        superblob_length: 826 / 0x33a
        blob_count: 5
        blobs:
        - slot: CodeDirectory (0)
          magic: fade0c02
          length: 487
          sha1: bf1ec87928ca5a89ac46faeeceae22ad9f111f0d
          sha256: d791c7515e8a6de621ea2f3b556211c539fc9671352c4a73bf67ddf3909f6346
        - slot: RequirementSet (2)
          magic: fade0c01
          length: 12
          sha1: 3a75f6db058529148e14dd7ea1b4729cc09ec973
          sha256: 987920904eab650e75788c054aa0b0524e6a80bfc71aa32df8d237a61743f986
        - slot: Entitlements (5)
          magic: fade7171
          length: 231
          sha1: 609a70a1468d84bef2be0146d1f0a5ea1c839948
          sha256: adea2675562421d85cc35e2c909ae27f33846eeb3b2b7c68017abd1b4b02f624
        - slot: DER Entitlements (7)
          magic: fade7172
          length: 36
          sha1: 1018e52606e45993b16da1c621ceec945b9d5226
          sha256: 4d9925d24f1357a00429379f31f567cedfaa8101d58442e7864f923bfb708794
        - slot: CMS Signature (65536)
          magic: fade0b01
          length: 8
          sha1: 2a7254313aa41796079bb0e9d0f044345f69f98b
          sha256: e6c83bc98a10348492c7d4d2378a54572ef29e1a5692ccd02b5e29f4b762d6a0
        code_directory:
          version: '0x20400'
          flags: CodeSignatureFlags(ADHOC)
          identifier: non-nested-bin
          digest_type: sha256
          platform: 0
          signed_entity_size: 16400
          executable_segment_flags: ExecutableSegmentFlags(MAIN_BINARY | ALLOW_UNSIGNED)
          code_digests_count: 5
          slot_digests:
          - 'Info (1): 0000000000000000000000000000000000000000000000000000000000000000'
          - 'RequirementSet (2): 987920904eab650e75788c054aa0b0524e6a80bfc71aa32df8d237a61743f986'
          - 'Resources (3): 0000000000000000000000000000000000000000000000000000000000000000'
          - 'Application (4): 0000000000000000000000000000000000000000000000000000000000000000'
          - 'Entitlements (5): adea2675562421d85cc35e2c909ae27f33846eeb3b2b7c68017abd1b4b02f624'
          - 'Rep Specific (6): 0000000000000000000000000000000000000000000000000000000000000000'
          - 'DER Entitlements (7): 4d9925d24f1357a00429379f31f567cedfaa8101d58442e7864f923bfb708794'
        entitlements_plist:
        - <?xml version="1.0" encoding="UTF-8"?>
        - <!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
        - <plist version="1.0">
        - <dict>
        - '  <key>get-task-allow</key>'
        - '  <true/>'
        - </dict>
        - </plist>
        entitlements_der_plist:
        - <?xml version="1.0" encoding="UTF-8"?>
        - <plist version="1.0">
        - '  <dict>'
        - '    <key>get-task-allow</key>'
        - '    <true />'
        - '  </dict>'
        - </plist>
        cms: null
- path: Contents/_CodeSignature/CodeResources
  file_size: 2882
  file_sha256: 61abffc781f3e15d45adcb78df283f2441c195830435b1588d04a99e43fa393d
  entity:
    bundle_code_signature_file: !ResourcesXml
    - <?xml version="1.0" encoding="UTF-8"?>
    - <!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
    - <plist version="1.0">
    - <dict>
    - '  <key>files</key>'
    - '  <dict>'
    - '    <key>Resources/non-nested-bin</key>'
    - '    <data>'
    - '    apwGEW+W2ghwpHtZD2rJ1FcX9d8='
    - '    </data>'
    - '  </dict>'
    - '  <key>files2</key>'
    - '  <dict>'
    - '    <key>MacOS/bin</key>'
    - '    <dict>'
    - '      <key>cdhash</key>'
    - '      <data>'
    - '      Jh20kdyYcmDirpZqo3z0FcTVzkU='
    - '      </data>'
    - '      <key>requirement</key>'
    - '      <string>cdhash H"261db491dc987260e2ae966aa37cf415c4d5ce45"</string>'
    - '    </dict>'
    - '    <key>MacOS/lib.dylib</key>'
    - '    <dict>'
    - '      <key>cdhash</key>'
    - '      <data>'
    - '      6O/eVjRpVyg7VkT4sQmay8Gisak='
    - '      </data>'
    - '      <key>requirement</key>'
    - '      <string>cdhash H"e8efde56346957283b5644f8b1099acbc1a2b1a9"</string>'
    - '    </dict>'
    - '    <key>Resources/non-nested-bin</key>'
    - '    <dict>'
    - '      <key>hash2</key>'
    - '      <data>'
    - '      wmgyR+qVPKoWbdyRmoZj7a3P74TojdigGJkw1NKI07w='
    - '      </data>'
    - '    </dict>'
    - '  </dict>'
    - '  <key>rules</key>'
    - '  <dict>'
    - '    <key>^Resources/</key>'
    - '    <true/>'
    - '    <key>^Resources/.*/.lproj/</key>'
    - '    <dict>'
    - '      <key>optional</key>'
    - '      <true/>'
    - '      <key>weight</key>'
    - '      <real>1000</real>'
    - '    </dict>'
    - '    <key>^Resources/.*/.lproj/locversion.plist$</key>'
    - '    <dict>'
    - '      <key>omit</key>'
    - '      <true/>'
    - '      <key>weight</key>'
    - '      <real>1100</real>'
    - '    </dict>'
    - '    <key>^Resources/Base/.lproj/</key>'
    - '    <dict>'
    - '      <key>weight</key>'
    - '      <real>1010</real>'
    - '    </dict>'
    - '    <key>^version.plist$</key>'
    - '    <true/>'
    - '  </dict>'
    - '  <key>rules2</key>'
    - '  <dict>'
    - '    <key>.*/.dSYM($|/)</key>'
    - '    <dict>'
    - '      <key>weight</key>'
    - '      <real>11</real>'
    - '    </dict>'
    - '    <key>^(.*/)?/.DS_Store$</key>'
    - '    <dict>'
    - '      <key>omit</key>'
    - '      <true/>'
    - '      <key>weight</key>'
    - '      <real>2000</real>'
    - '    </dict>'
    - '    <key>^(Frameworks|SharedFrameworks|PlugIns|Plug-ins|XPCServices|Helpers|MacOS|Library/(Automator|Spotlight|LoginItems))/</key>'
    - '    <dict>'
    - '      <key>nested</key>'
    - '      <true/>'
    - '      <key>weight</key>'
    - '      <real>10</real>'
    - '    </dict>'
    - '    <key>^.*</key>'
    - '    <true/>'
    - '    <key>^Info/.plist$</key>'
    - '    <dict>'
    - '      <key>omit</key>'
    - '      <true/>'
    - '      <key>weight</key>'
    - '      <real>20</real>'
    - '    </dict>'
    - '    <key>^PkgInfo$</key>'
    - '    <dict>'
    - '      <key>omit</key>'
    - '      <true/>'
    - '      <key>weight</key>'
    - '      <real>20</real>'
    - '    </dict>'
    - '    <key>^Resources/</key>'
    - '    <dict>'
    - '      <key>weight</key>'
    - '      <real>20</real>'
    - '    </dict>'
    - '    <key>^Resources/.*/.lproj/</key>'
    - '    <dict>'
    - '      <key>optional</key>'
    - '      <true/>'
    - '      <key>weight</key>'
    - '      <real>1000</real>'
    - '    </dict>'
    - '    <key>^Resources/.*/.lproj/locversion.plist$</key>'
    - '    <dict>'
    - '      <key>omit</key>'
    - '      <true/>'
    - '      <key>weight</key>'
    - '      <real>1100</real>'
    - '    </dict>'
    - '    <key>^Resources/Base/.lproj/</key>'
    - '    <dict>'
    - '      <key>weight</key>'
    - '      <real>1010</real>'
    - '    </dict>'
    - '    <key>^[^/]+$</key>'
    - '    <dict>'
    - '      <key>nested</key>'
    - '      <true/>'
    - '      <key>weight</key>'
    - '      <real>10</real>'
    - '    </dict>'
    - '    <key>^embedded/.provisionprofile$</key>'
    - '    <dict>'
    - '      <key>weight</key>'
    - '      <real>20</real>'
    - '    </dict>'
    - '    <key>^version/.plist$</key>'
    - '    <dict>'
    - '      <key>weight</key>'
    - '      <real>20</real>'
    - '    </dict>'
    - '  </dict>'
    - </dict>
    - </plist>
    - ''

```
